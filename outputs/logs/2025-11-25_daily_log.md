## 2025-11-25 实验日志

1. **ResNet50 训练脚本修正与运行**  
   - 修复 `src/training/resnet50_baseline.py` 的日志写入字段、预测文件字段不匹配问题，确保训练全流程（冻结 → 微调 → 测试）能顺利完成。  

2. **E2：无增强基线 (ResNet50, AdamW)**  
   - 配置：`--augment none`, `freeze=5`, `finetune=15`, `batch_size=16`, `lr_head=1e-3`, `lr_backbone=1e-4`, Cosine LR。  
   - 结果：验证集 `macro-F1 ≈ 0.646`（最佳 epoch 6），`val_acc ≈ 0.664`；测试集 `acc ≈ 0.643`，`macro-F1 ≈ 0.615`。  
   - 产物：`outputs/logs/resnet50_E2.csv`, `outputs/checkpoints/E2_resnet50_no_aug_best.pt`, `outputs/predictions/resnet50_E2_test.csv`。

3. **E3：基础增强对比**  
   - 配置：`--augment basic`（随机翻转、旋转、随机裁剪、ColorJitter，其余同上）。  
   - 结果：验证集 `macro-F1 ≈ 0.661`（最佳 epoch 10），`val_acc ≈ 0.675`；测试集 `acc ≈ 0.650`，`macro-F1 ≈ 0.643`。与 E2 相比，增强策略在验证/测试上均带来 ~3% 的 Macro-F1 提升。  
   - 产物：`outputs/logs/resnet50_E3.csv`, `outputs/checkpoints/E3_resnet50_basic_aug_best.pt`, `outputs/predictions/resnet50_E3_test.csv`。

4. **后续计划**  
   - 依据 E2/E3 结果准备报告中的“数据增强消融”章节，绘制 `val_macro_f1` 对比图。  
   - 选取最佳模型（当前为 E3）生成混淆矩阵、Grad-CAM，可在 `notebooks/30_failure_analysis.ipynb` 中实现。  
   - 视时间继续拓展 E4（ViT/DeiT）或 E6（学习率/优化器消融），并与传统方法团队同步指标表。


